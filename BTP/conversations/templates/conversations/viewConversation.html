{% extends 'main.html' %}

{% block content %}
<!-- Main Section -->
<main class="inbox my-xl">
  <div class="content-box">
    <h3 class="inbox__title">{{senderProfile.username}}</h3>
    <!-- <div class="contentBox"> -->
      <ul class="messages">
        <!-- {{senderName}}  -------   {{recieverName}}     -->
        <!-- <div style="display: flex;align-items:center;justify-content: space-between">
          <p style="color: #5aa5b9">
              <b>
              {{senderName}}
            </b>
            </p>
          <p style="color: #5aa5b9">
              <b>
              {{recieverName}}
            </b>
            </p>
        </div> -->
          <!-- <div class="left">
            Hello
          </div>
          <div class="left right" >
            Para
          </div> -->
          
        {% for message in messageRequests %}
          {% if message.senderProfile == recieverProfile %}
            <div class="right" >
          {% else %}
              <div class="left">
          {% endif %}
          <div style="display: flex;max-width:60%" class="sendAndRecieve">
            <div class="messages" style="display: flex;flex-direction: column;justify-content: space-between;margin-bottom: 2rem;max-width: 100%">
              <div style="display: flex;align-items:center;justify-content: space-between;">
                <p style="color: #5aa5b9;">
                    <b>
                      {% if message.senderProfile == recieverProfile %}
                        {{recieverName}}
                      {% else %}
                        {{senderName}}
                      {% endif %}
                  </b>
                </p>
                <!-- <p style="color: #5aa5b9">
                    <b>
                    {{recieverName}}
                  </b>
                  </p> -->
              </div>
              <div style="display: flex;flex-direction: column;">
                    {% if message.messageImage != "" %}
                    <img class="" src="{{ message.messageImage.url }}" />
                    {% endif %}
                    <span class="message__subject">{{message.messageBody }}  </span>
                </div>
                <span class="message__subject" style="justify-content: end;flex-basis: auto;font-size: 10px">{{message.created}}</span>
            </div>
          </div>
          </div>
      <!-- </a> -->
        <!-- </li> -->
        {% endfor %}
      </ul>
    <!-- </div> -->
    
    <!-- Input Tag -->
    <div style="margin-top: 2rem;display: flex;justify-content: space-between;align-items: center;">
      <textarea type="text" placeholder="Type the message" style="flex: 0.97;padding: 1rem;outline: none;max-height: 10vh"> </textarea>
      <div style="display: flex;align-items: center;justify-content: space-around;gap: 1.5rem;">
        <!-- Upload -->
        <button name="upload" style="display: flex;align-items: flex-end;justify-content: stretch;padding: 1rem 2rem;outline: none;cursor: pointer;border: none;color: white;background-color: rgb(70, 152, 184);"><i style="font-size: 30px;" class="im im-photo-camera"></i></button>
        <!-- <input type="file" style="display: flex;align-items: center;justify-content: flex-end;padding: 0.5rem 2rem;background-color: transparent;border: none;outline: none;cursor: pointer" name="upload" id=""> -->

        <!-- Send Button -->
        <button style="display: flex;align-items: center;justify-content: flex-end;padding: 1rem 2rem;color: white;border: none;outline: none;cursor: pointer;border: none;background-color: rgb(59, 146, 59)" type="submit"><i style="font-size: 30px;" class="im im-paperplane"></i></button>
      </div>
    </div>
  </div>
</main>

{% endblock content %}